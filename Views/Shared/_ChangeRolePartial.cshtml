@using Microsoft.AspNetCore.Identity
@using Inlämning_2___Webshop.IdentityData;

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@model Inlämning_2___Webshop.ViewModels.UserRoleViewModel

<link href="~/css/StyleSheet.css" type="text/css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.ajax.unobtrusive/3.2.4/jquery.unobtrusive-ajax.min.js"></script>

<table>
    @foreach (var user in Model.Users)
    {
    <tr>
        <td>@user.UserName</td>
        <td><a asp-action="GetUserData" asp-route-id="@user.Id" data-ajax="true" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-update="#ProfilePanel">Get user information</a></td>
    </tr>
    }
</table>

<div id="ProfilePanel"></div>